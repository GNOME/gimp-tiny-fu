2005-01-21  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu-console.c: Trivial formatting changes to source file.

2005-01-12  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/glossy.sct: Fixed a typo spotted by Joao S. O. Bueno.

2005-01-09  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/Makefile.am:
	* scripts/asc2img.sct: Removed this script as it is supposedly broken
	beyond repair (according to Sven Neumann) and the functionality is in
	the text tool itself.

	* scripts/frosty-logo.sct: made sure the shadow is given enough space
	and then truncated instead of translated to the center of the image,
	thus preventing the display of shadows with a completely horizontal or
	vertical edge. From a fix in Script-Fu by Shlomi Fish. Fixes bug #132145.

2004-12-25  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/weave.sct: Limit the "Thread intensity" parameter to [0..100]
	because it's used as layer opacity. From a fix in Script-Fu by Michael
	Natterer. Fixes bug #162182.

2004-12-19  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/copy-visible.sct: Deprecated since feature added to core.

2004-12-16  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/circuit.sct: Don't try to desaturate a grayscale layer.
	From a fix in Script-Fu by Bill Skaggs.  Fixes bug #161470.

2004-12-11  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/copy-visible.sct: Apply the layer mask when copying a
	single layer with a layer mask. Fixes bug #138662.

	* configure.in: Bumped version number to 0.9.7

2004-11-30  Kevin Cozens  <kcozens@cvs.gimp.org>

	Released a new tarball as version 0.9.6

2004-11-30  Kevin Cozens  <kcozens@cvs.gimp.org>

	* NEWS: Updated

	* scripts/t-o-p-logo.sct: Removed extraneous character.

	* scripts/spyrogimp.sct: Force number of teeth to integer values.
	Changed default value for Outer teeth to give a more interesting
	image. Detabified file. Fixes bug #158448. 

2004-11-27  Kevin Cozens  <kcozens@cvs.gimp.org>

	* TODO: Added idea of counting brackets in TinyScheme.

	* tiny-fu/tiny-fu-scripts.c (tiny_fu_script_proc): Don't look at the
	menu path to determine if the script is image-based. Instead look at
	the number of parameters we are being called with. From a fix in
	Script-Fu by Sven Neumann.

2004-11-23  Kevin Cozens  <kcozens@cvs.gimp.org>

	* NEWS: Updated with notes about recent changes.

2004-11-22  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/copy-visible.sct: Fixed incorrect comparison in if
	statement. Partial(?) fix for bug #138662. 

2004-11-22  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/*.sct: Updated all scripts to call script-fu-menu-register
	after the call to script-fu-register.

	Updates based on changes made by Michael Natterer to Script-Fu.

	* tiny-fu/tiny-fu-scripts.c: Pass untranslated menu_paths to the
	core, not translated ones. Don't store the scripts directly in the
	"script_list" tree but use a list of scripts per key because there
	can be identical keys for different scripts now. Renamed variable
	"script_list" to "script_tree" because it's a GTree. Sort the SFMenu
	structs by their menu_paths *and* the procedure's menu_labels. Fixes
	menu item sorting after "Refresh".

2004-11-21  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/erase-rows.sct: Applied patch from BM which makes the
	script work layers that have their top-left corner at a position
	other than the top-left corner of the image. Fixes bug #158863.

2004-11-19  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu-scripts.c (tiny_fu_menu_compare): Compare the
	passed menu paths and not the pointers themselves. From a fix in
	Script-Fu by Sven Neumann.

	* scripts/selection-round.sct: Removed all ^M characters. Detabified
	file. Moved into the <Image>/Select/Modify based on the change made
	by Sven Neumann to the Script-Fu version of the script.

	* scripts/*.sct: Ported all scripts to use script-fu-menu-register
	and pass just the menu label in script-fu-register.

2004-11-18  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu.c
	* tiny-fu/tiny-fu-scripts.c
	* tiny-fu/tiny-fu-scripts.h: Added support for (tiny-fu-menu-register)
	to allow scripts to register their menu_paths the same undeprecated
	way as plug-ins. Fixes bug #158117. Renamed tiny_fu_find_scripts() to
	tiny_fu_load_all_scripts(). Added calls to gettext() since TinyScheme
	no longer translates marked strings. In tiny_fu_script_proc() changed
	some uses of 'params' variable that should have been 'param'.

	* tiny-fu/tiny-fu-interface.c: Added a utility function to reduce
	code duplication.

	* tiny-fu/ts-wrapper.c: Added support for (tiny-fu-menu-register).

	* tinyscheme/scheme.c: Don't call gettext() on strings marked for
	translation. De-tabified file.

	* scripts/test-sphere.sct: Example use of new API for scripts.

2004-11-17  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/add-bevel.sct: Removed a bracket left in by mistake
	during the previous modification.

2004-11-17  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu-interface.c: added a utility function to
	reduce code duplication. (From Sven Neumann)

2004-11-16  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on changes made by Michael Natterer to Script-Fu.

	* scripts/coolmetal-logo.sct
	* scripts/image-structure.sct
	* scripts/text-circle.sct: Use the new drawable_foo_default()
	functions instead of drawable_foo_defaults() to be consistent
	with paintbrush_default() and friends.

2004-11-15  Kevin Cozens  <kcozens@cvs.gimp.org>

	* Makefile.am: Added NEWS to the list of files in EXTRA_DIST.

	* debug-tiny-fu.txt: Removed an option passed to valgrind.

2004-11-15  Kevin Cozens  <kcozens@cvs.gimp.org>

	* NEWS: Updated with notes about some recent changes.

	* TODO: Added two items.

2004-11-14  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/selection-round.sct: Register the compatibility procedure
	with the correct name. (From a Script-Fu change by Sven Neumann)

	Updates based on changes made by Michael Natterer to Script-Fu.

	* scripts/3dTruchet.sct
	* scripts/coolmetal-logo.sct
	* scripts/image-structure.sct
	* scripts/perspective-shadow.sct
	* scripts/text-circle.sct
	* scripts/truchet.sct: Use the new transform API.

2004-11-14  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/guides-new.sct
	* scripts/guides-remove-all.sct: Missed script-fu-* references
	that should be tiny-fu-*.

2004-11-13  Kevin Cozens  <kcozens@cvs.gimp.org>

	* NEWS: Updated with a summary of the 0.9.6 release.

2004-11-13  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/gimp-headers.sct
	* scripts/gimp-labels.sct
	* scripts/news-text.sct
	* scripts/speed-text.sct: Changed calls to gimp-selection-clear to
	gimp-selection-none in preparation for the deprecation of -clear.
	(See bug #156765)

2004-11-11  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on changes made by Michael Natterer to Script-Fu.

	* scripts/add-bevel.sct
	* scripts/addborder.sct
	* scripts/carve-it.sct
	* scripts/carved-logo.sct
	* scripts/chip-away.sct
	* scripts/clothify.sct
	* scripts/font-map.sct
	* scripts/slide.sct
	* scripts/swirltile.sct: don't call gimp-edit-* functions on
	drawables which are not added to an image because this will be
	forbidden soon (because it can trash the image's undo stack).

	* scripts/lava.sct: replaced undo-disable/enable by
	undo-group-start/end.

2004-11-10  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on changes made by Sven Neumann to Script-Fu.

	* tiny-fu/tiny-fu-interface.c (tiny_fu_ok): actually retrieve
	the value from the GtkEntry for SF-VALUE.

2004-11-03  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu-interface.c (tiny_fu_interface): Oops...removed
	a line left over when applying patch which fixes bug 123882.

2004-11-03  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu-interface.c (tiny_fu_interface): Don't call
	gettext() on strings provided by scripts as they are already
	translated by the Scheme interpreter.

	Updates based on changes made by Michael Natterer to Script-Fu.

	* tiny-fu/tiny-fu-interface.c (tiny_fu_interface): don't silently
	return when there is already a script running but show a message
	instead. Fixes bug #123882.

2004-10-29  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/ts-wrapper.c (init_constants): Re-added the deprecated
	constants for backwards compatability with Script-Fu and the 2.0
	version of GIMP. Use convert_string() to change name of constants
	to Scheme format.

2004-10-29  Kevin Cozens  <kcozens@cvs.gimp.org>

	* configure.in: Bumped version number to 0.9.6

2004-10-29  Kevin Cozens  <kcozens@cvs.gimp.org>

	Released a new tarball as version 0.9.5

	* TODO: Updated file.

2004-10-29  Kevin Cozens  <kcozens@cvs.gimp.org>

	* NEWS: Updated with a summary of the 0.9.5 release.

2004-10-29  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tinyscheme/scheme.c: Removed some items from here...
	* tinyscheme/scheme-private.h ... and added them here so they
	could be used in the ts-wrapper.c file.

2004-10-29  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/carve-it.sct: Removed three lines no longer needed.

	* scripts/contactsheet.sct: Use gimp-drawable-fill instead of
	gimp-edit-fill.

	* scripts/hsv-graph.sct: Backed out some changes made during first
	attempts to get the script working. Fixed text for one toggle.
	Reformatted the file.

	* scripts/test-sphere.sct: Added note about use of SF_PALETTE

2004-10-28  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu-interface.c (tiny_fu_interface): Applied patch
	from Sven Neumann which uses gimp_int_combo_box_connect() so
	that the initial selection causes the "changed" callback to be
	run. Fixes bug #156659.

2004-10-26  Michael Natterer  <mitch@gimp.org>

	* configure.in: actually depend on gimp_required_version. Removed
	unused cruft.

	* tiny-fu/gimp-constants.h: really remove.

2004-10-25  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/ts-wrapper.c: Oops...the array size limit checks
	were around the wrong way.

2004-10-25  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/ts-wrapper.c: Allow user to specify array size of zero.

	* configure.in: GIMP 2.2 is required by change in the ts-wrapper.c
	file.

	* tiny-fu/Makefile.am
	* tiny-fu/gimp-constants.h: Removed since it is no longer needed.

	* tiny-fu/ts-wrapper.c: Dynamically register all constants using
	gimp_enums_get_type_names() and introspection. Also register the
	built-in unit types. Change originally made by Michael Natterer
	to Script-Fu.

2004-10-25  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/ts-wrapper.c: Allow specified array size to be any value
	from 1 up to the actual size of the array. Fixes bug #155359.

2004-10-25  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/tiny-fu.init: Changed gimp-data-dir to gimp-data-directory.

2004-10-25  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/test-sphere.sct: Added a palette selector to the dialog.

2004-10-25  Kevin Cozens  <kcozens@cvs.gimp.org>

	* NEWS: Updated with a summary of the 0.9.4 release.

2004-10-25  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tinyscheme/scheme.c: Applied patch from Dimitrios Souflis which
	fixes error when parsing two or more consecutive comment lines.

2004-10-24  Kevin Cozens  <kcozens@cvs.gimp.org>

	* NEWS: Updated with a summary of information about all public
	releases up to (and including) the 0.9.3 release.

2004-10-24  Kevin Cozens  <kcozens@cvs.gimp.org>

	Applied changes made to the autogen.sh file of GIMP.

	* autogen.sh: don't tell nonsense by printing "I am going to run
	./configure with no arguments", because we always pass at least
	--enable-maintainer-mode. Instead, simply always print all
	arguments. Also removed --copy from the calls to glib-gettextize
	and intltoolize. (Michael Natterer)

	* autogen.sh: Add support for automake 1.9. Also rm autom4te.cache,
	since it might interfere with differing autoconf versions.
	(Manish Singh)

2004-10-21  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu.c: Removed _() tag from two strings that should
	not have been marked for translation.

2004-10-20  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu.c: Just some minor formatting changes.

2004-10-20  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu.c: Removed #ifdef's that should have been removed
	when server mode was re-enabled for Windows. Fixed spelling error,
	and two comments.

2004-10-20  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/circuit.sct: Removed line left in by mistake.

2004-10-16  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/ts-wrapper.c: Reworded two error messages.

2004-10-16  Kevin Cozens  <kcozens@cvs.gimp.org>

	* po/POTFILES.in
	* scripts/Makefile.am: Updated list of files.

	* scripts/grid-system.sct
	* scripts/hsv-graph.sct
	* scripts/image-structure.sct: Added remaining Script-Fu scripts.

2004-10-16  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/script-fu-compat.init: Added 'pow' used in hsv-graph.sct

2004-10-14  Kevin Cozens  <kcozens@cvs.gimp.org>

	* po/POTFILES.in: Updated list of files.

	* scripts/Makefile.am
	* scripts/guides-from-selection.sct
	* scripts/guides-new-percent.sct
	* scripts/guides-new.sct
	* scripts/guides-remove-all.sct: Added new scripts from Alan Horkan
	added to Script-Fu. (see bug #119667)

2004-10-14  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/circuit.sct: Fixed to allow use of script on original layer.
	(bug #155358)  Fixed spelling error.

2004-10-12  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on Script-Fu changes made by Sven Neumann.

	* scripts/selection-round.sct: moved out of the "Modify" placeholder.
	Using placeholders from Script-Fu breaks i18n.

	* scripts/alien-glow-button.sct
	* scripts/alien-glow-logo.sct
	* scripts/basic2-logo.sct
	* scripts/gradient-bevel-logo.sct: use "Sans Bold" instead of
	"Futura_Poster". The underscore in the font name used to confuse
	intltool (bug #137029) and the freefont package isn't that widely
	used any longer anyway.

2004-10-12  Kevin Cozens  <kcozens@cvs.gimp.org>

	* autogen.sh: removed reference to libtool in the "I am testing ..."
	message since libtool isn't used.

2004-10-12  Michael Natterer  <mitch@gimp.org>

	* autogen.sh: sync'ed with gimp's autogen.sh. Also adds support
	for the AUTOGEN_CONFIGURE_ARGS environment variable.

2004-10-09  Kevin Cozens  <kcozens@cvs.gimp.org>

	* configure.in: Bumped version number to 0.9.5

2004-10-09  Kevin Cozens  <kcozens@cvs.gimp.org>

	Released version 0.9.4 (first standalone tarball)

2004-10-09  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/Makefile.am
	* scripts/images/Makefile.am: DATADIR is now GIMP_DATADIR

	* configure.in: Added check for GIMP >= 2.1. Added checks for some
	needed libraries, and for some needed library routines.

2004-10-09  Kevin Cozens  <kcozens@cvs.gimp.org>

	* re/Makefile.am: Added more files missing from the distribution.

	* re/debug.c
	* re/main.c
	* re/regcomp.c
	* re/regerror.c
	* re/regexec.c: Changed <regex.h> to "regex.h" to emphasize local
	header is being used rather than standard libc header file.

2004-10-08  Kevin Cozens  <kcozens@cvs.gimp.org>

	* Makefile.am: Forgot to commit this file at the same time
	as the others.

	* ftx/Makefile.am
	* re/Makefile.am
	* scripts/Makefile.am
	* scripts/images/Makefile.am
	* tiny-fu/Makefile.am
	* tinyscheme/Makefile.am: Cleaned up files, added EXTRA_DIST with
	list of files to include in a distribution. Fixed typo in filename
	in the re/Makefile.am file.

2004-10-08  Kevin Cozens  <kcozens@cvs.gimp.org>

	* AUTHORS: Added initial list of authors and contributors.

2004-10-08  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu-console.c: Added #ifdef GIMP_PROC_BROWSER around
	currently unused variable declaration.

2004-10-08  Kevin Cozens  <kcozens@cvs.gimp.org>

	* configure.in: Removed two LIBTOOL lines that are not needed and
	added missing AC_CANONICAL_HOST.

2004-10-08  Kevin Cozens  <kcozens@cvs.gimp.org>

	* configure.in
	* tiny-fu/Makefile.am: Re-instated ability to build under Windows.

2004-10-08  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu-console.c: Removed "Browse" button using #ifdef
	GIMP_PROC_BROWSER until the needed code is available via libgimpui.

2004-10-07  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu.c: Untabified file.

	* tiny-fu/tiny-fu-console.c: Added #ifdef GIMP_PROC_BROWSER around
	apply_callback() since its not currently used.

	* tiny-fu/ts-wrapper.c: Debugging features are now off by default.

2004-10-07  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on Script-Fu changes made by Michael Natterer.

	* scripts/selection-round.sct: use a scale_entry instead of a
	spinbutton, changed mnemonic from "R" to "E", indentation.

	* scripts/test-sphere.sct: s/SF_BRUSH/SF-BRUSH/ in a comment.

	Update based on Script-Fu change made by Sven Neumann.

	* scripts/selection-round.sct: applied patch by Alan Horkan that
	improves usability and usefulness of this script. Did some code
	cleanup and added the old procedure for backward compatibility.
	Fixes bug #145147.

2004-10-07  Kevin Cozens  <kcozens@cvs.gimp.org>

	* scripts/spyrogimp.sct: Update based on change made by Michael
	Natterer to Script-Fu version due to change in GIMP API.

2004-10-07  Kevin Cozens  <kcozens@cvs.gimp.org>

	* POTFILES.in: Removed dynload.c from list.
	* po/*.po: Regenerated all .po files.

2004-10-07  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/tiny-fu-console.c
	* tiny-fu/tiny-fu-scripts.c
	* tiny-fu/tiny-fu-server.c
	* tiny-fu/tiny-fu-text-console.c: Untabified and unmarked error
	messages for translation.

2004-10-05  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on Script-Fu change made by Sven Neumann.

	* tiny-fu/scripts/addborder.sct: simple change to make the script work
	on all image types, not only RGB.

2004-10-05  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on Script-Fu changes made by Sven Neumann.

	* tiny-fu/script-fu-interface.c (script_fu_about): Set the help_func
	again (but not the help_id). Enabled line wrapping on labels.

	(script_fu_interface): substitute underscores by hyphens to
	generate the help-id from the procedure name.

	* tiny-fu/script-fu-interface.c: five buttons are too much for the
	action area. Renamed the About button to Help and resurrected the
	help button in the about dialog as a way to get to the actual help
	pages (pressing F1 will get you there as well).

	* tiny-fu/script-fu-interface.c (script_fu_interface): set a minimum
	width for the color button again.
	(script_fu_about): don't set help_func and help_id on the about dialog.

	* tiny-fu/script-fu-interface.c (script_fu_reset): fixed reset for
	SF_TEXT values.

2004-10-04  Kevin Cozens  <kcozens@cvs.gimp.org>

	* tiny-fu/ts-wrapper.c: Cleaned init_procedures() by using
	g_strdup_printf(), g_strdup()/g_free() proc_name, plugged memory leak.
	Now strdup and free proc_name in marshall_proc_db_call().

	* tiny-fu/ts-wrapper.c: Generate an error message if the size of an
	array is different from the previous argument specifying the size
	as suggested by Michael Natterer. (Fixes bug #154266)

2004-10-04  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on Script-Fu changes made by Sven Neumann.

	* tiny-fu/script-fu-interface.c: Added a horizontal size group for the
	left-aligned controls.

2004-10-06  Kevin Cozens  <kcozens@cvs.gimp.org>

	Sven Neumann autoconf'ed version 0.9.3 of Tiny-Fu yesterday. All files
	were imported in to GNOME CVS today after a couple of minor changes.

	A few notes directly above here will have earlier dates than this
	to preserve when the changes were originally made since the 0.9.3
	tarball was released.

2004-10-02  Kevin Cozens  <kcozens@cvs.gimp.org>

	Released a new tarball as version 0.9.3

	* plug-ins/tiny-fu/scripts/*.sct: Updated all scripts to conform to
	the current PDB API.

2004-10-01  Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/tinyscheme/scheme-private.h: increased size of
	strbuff[] in scheme struct to handle scripts with lots of help info.

2004-10-01  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on Script-Fu changes made by Michael Natterer.

	* plug-ins/tiny-fu/tiny-fu-types.h (struct SFScript): renamed
	member "description" to "menu_path".

	* plug-ins/tiny-fu/tiny-fu-interface.c: changed accordingly.

	* plug-ins/tiny-fu/tiny-fu-scripts.c: ditto. Don't pass the
	menu_path as "blurb" to gimp_install_temp_proc(). Instead,
	pass "help" as "blurb" and nothing as "help".

	* plug-ins/tiny-fu/scripts/test-sphere.sct: shortened overly
	long and useless help text.

2004-10-01  Kevin Cozens  <kcozens@cvs.gimp.org>

	* gimp/plug-ins/tiny-fu/ts-wrapper.c: ts_interpret_string() now zeros
	sc.linebuff to ensure it contains no previous error message.

2004-09-29  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates as the result of changes made by Michael Natterer to DB Browser.

	* plug-ins/po-tiny-fu/POTFILES.in: Removed reference to dbbrowser_utils.c
	and added reference to gimpprocbrowser.c and gimpprocview.c

	* plug-ins/tiny-fu/Makefile.am: Link against the new libarary
	libgimpprocbrowser.a

	* plug-ins/tiny-fu/tiny-fu-console.c: Changed #includes accordingly.
	Minor cleanup.

2004-09-23  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on Script-Fu changes made by Sven Neumann.

	* plug-ins/script-fu/script-fu-interface.c: Put the text view into
	a scrolled window. Removed "changed" callbacks for GtkEntry and
	GtkTextView. Instead retrieve the final string when the dialog is
	confirmed.

2004-09-22  Kevin Cozens  <kcozens@cvs.gimp.org>

	* gimp/plug-ins/tiny-fu/tiny-fu-enum.h
	* gimp/plug-ins/tiny-fu/tiny-fu-interface.c
	* gimp/plug-ins/tiny-fu/tiny-fu-scripts.c
	* gimp/plug-ins/tiny-fu/ts-wrapper.c: Added support for multi-line
	text in scripts using SF-TEXT argument type.

2004-09-21  Kevin Cozens  <kcozens@cvs.gimp.org>

	* gimp/plug-ins/tiny-fu/ts-wrapper.c: Added gimp-*directory constants
	and marked the gimp*-dir constants as deprecated.

	* gimp/plug-ins/tiny-fu/server-test/*: Added directory and files
	with information about using server mode plus some sample scripts.

2004-09-21  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on Script-Fu changes made by Sven Neumann.

	* plug-ins/tiny-fu/tiny-fu-server.c: Got rid of two of the global
	file descriptor sets. Use the client hash-table instead.

	* plug-ins/tiny-fu/tiny-fu-server.c: Enabled build of the
	Script-Fu server for the Win32 platform using the winsock API.

	* plug-ins/tiny-fu/Makefile.am: Link with -lwsock32 on Win32.

	* plug-ins/tiny-fu/tiny-fu-console.c
	* plug-ins/tiny-fu/tiny-fu.c
	* plug-ins/tiny-fu/siod-wrapper.c: Removed Win32 specific code
	that isn't needed any longer.

2004-09-19  Kevin Cozens  <kcozens@cvs.gimp.org>

	Released a new tarball as version 0.9.2

	* po-tiny-fu/en_CA.po
	* po-tiny-fu/en_GB.po: Updated English language translation files.

	* po-tiny-fu/POTFILES.in: Updated list of files with marked strings.

	* plug-ins/tiny-fu/scripts/Makefile.am: Updated list of scripts.

2004-09-18  Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/scripts/mkbrush.sct
	* plug-ins/tiny-fu/scripts/select-to-brush.sct
	* plug-ins/tiny-fu/scripts/select-to-pattern.sct: Updated to use new
	gimp-dir constant.

	* plug-ins/tiny-fu/ts-wrapper.c: Simplified init_constants() routine
	and added constant "gimp-dir".

	* plug-ins/tiny-fu/scripts/script-fu-compat.init: Fixed 'rand' function.

2004-09-15  Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/scripts/burn-in-anim.sct: Fixed glow effect.

2004-09-13  Kevin Cozens  <kcozens@cvs.gimp.org>

	* po-tiny-fu/ChangeLog
	* po-tiny-fu/POTFILES.in: Updated list of files to check for strings
	requiring translation.

	* plug-ins/tiny-fu/tiny-fu.c
	* plug-ins/tiny-fu/tiny-fu-console.c
	* plug-ins/tiny-fu/tiny-fu-scripts.c
	* plug-ins/tiny-fu/tiny-fu-server.c
	* plug-ins/tiny-fu/tiny-fu-text-console.c
	* plug-ins/tiny-fu/ts-wrapper.c
	* plug-ins/tiny-fu/scripts/contactsheet: Marked strings for translation.

	* plug-ins/tiny-fu/scripts/script-fu-compat.init: Oops...now I have
	fixed the cons-array definition.

	* plug-ins/tiny-fu/ts-wrapper.c: Used the array* definitions to clean
	up a few lines of code.

	* plug-ins/tiny-fu/tinyscheme/scheme.c
	* plug-ins/tiny-fu/tinyscheme/scheme-private.h: Moved definitions for
	arrayvalue, arraylength, and arraytype to the header file.

2004-09-11  Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/scripts/script-fu-compat.init: Fixed problem in the
	cons-array function and added missing statement for float arrays.

	* plug-ins/tiny-fu/scripts/Makefile.am: Updated to install all scripts.

	* plug-ins/tiny-fu/scripts/*: Moved in all scripts from scripts.done/
	and removed scripts.done directory.

	* plug-ins/tiny-fu/tinyscheme/scheme.c: Doubled number of cell segments
	that can be allocated. Prevents "No memory!" message when all sample
	scripts are installed.

2004-09-03  Kevin Cozens  <kcozens@cvs.gimp.org>

	Released a new tarball as version 0.9.1

	Updates based on even more Script-Fu changes made by Michael Natterer.

	* plug-ins/tiny-fu/tiny-fu-interface.c (tiny_fu_ok)
	* plug-ins/tiny-fu/tiny-fu-scripts.c (tiny_fu_script_proc):
	use a GString for assembling the commands string instead of
	g_sprintf()ing into a buffer. Removes the need for a separate loop
	over all args to determine the buffer's length and makes the
	remaining code smaller and more readable.

2004-09-02  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on some more Script-Fu changes made by Michael Natterer.

	* plug-ins/tiny-fu/tiny-fu-types.h (struct SFOption): changed
	"guint history" to "gint history".

	* plug-ins/tiny-fu/tiny-fu-interface.c: added callbacks for
	string entries and combo boxes and connect *all* widgets to callbacks.

	(tiny_fu_ok): don't touch the widgets at all but get the values
	directly now that the callbacks correctly write them to their
	structs.

	(tiny_fu_reset): don't copy the default values manually but
	simply set the default values on the widgets; their callbacks will
	do the rest.

	* plug-ins/tiny-fu/tiny-fu-scripts.c (tiny_fu_add_script):
	added some line breaks and spaces to make it more readable.

	* plug-ins/tiny-fu/tiny-fu-interface.c: removed all progress
	callbacks and simply use a GimpProgressBar.

2004-08-31  Kevin Cozens  <kcozens@cvs.gimp.org>

	Updates based on more Script-Fu changes made by Michael Natterer.

	* plug-ins/tiny-fu/tiny-fu-scripts.[ch]: Removed the GUI code...
	* plug-ins/tiny-fu/tiny-fu-interface.[ch]: ...and added it here.

	* plug-ins/tiny-fu/tiny-fu-types.h: New file with struct defs needed
	by the above sets of files.

	* plug-ins/tiny-fu/Makefile.am
	* plug-ins/tiny-fu/ts-wrapper.c: Updated due to the other changes.

2004-08-30  Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/tinyscheme/ftx/ftx.c: Changed _ to - in names of
	constants in file_type_constants structure.

	* plug-ins/tiny-fu/tiny-fu-scripts.c: Applied changes made by Michael
	Natterer to Script-Fu which brought the PDB progress into a working
	state.

	* plug-ins/tiny-fu/gimp-constants.h: regenerated

2004-08-30  Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/tiny-fu-scripts.c: Applied changes made by Michael
	Natterer to Script-Fu which uses a new API to show the progress bar in
	the script-fu dialog.  

2004-08-12  Kevin Cozens  <kcozens@cvs.gimp.org>

	Released a new tarball as version 0.9.0

	* plug-ins/tiny-fu/ts-wrapper.c: Minor changes in handling of string
	arrays. Optimized PDB array data copying using a memory move.

	* plug-ins/tiny-fu/tinyscheme/scheme.c: Garbage collector now frees
	the strings pointed to in string array data cells.

2004-08-11   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/ts-wrapper.c: Updated the marshalling code to use
	the new array type in TinyScheme for handling of PDB *ARRAY data.

2004-08-10   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/scripts/script-fu-compat.init: Updated define blocks
	for cons-array, aset, and aref to use new array functions.

	* plug-ins/tiny-fu/tinyscheme/opdefines.h 
	* plug-ins/tiny-fu/tinyscheme/scheme.c
	* plug-ins/tiny-fu/tinyscheme/scheme.h
	* plug-ins/tiny-fu/tinyscheme/scheme-private.h: Added support for arrays
	to properly handle GIMP *ARRAY types. Adds functions make-array, array?,
	array-length, array-type, array-ref, array-set!, for use in scripts.

	* plug-ins/tiny-fu/ts-wrapper.c: Made constants and procedures defined
	during initialization immutable except for the defines used to call the
	marshalling routine.

	* plug-ins/tiny-fu/tinyscheme/scheme.c: Made define and set! honour
	immutable setting of data cells. Eliminated compiler warnings.

2004-08-07   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/tinyscheme/ftx/ftx.c: UTF8'ed the file routines.

	Changes to fix handling of SF_PARASITE data:

	* plug-ins/tiny-fu/tinyscheme/scheme.c: Changed store_string() to
	use memcpy() instead of strcpy() to better handle binary data. Also
	always store a terminating NUL.

	* plug-ins/tiny-fu/ts-wrapper.c: Added extra debugging output in
	marshalling routine for data passed to GIMP.

2004-08-06   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/tiny-fu-console.c: Added buttons "Clear Output"
	and "Save Output" to console dialog. (Save not added for GIMP 2.0)

2004-08-04   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/scripts/script-fu-compat.init: Change to force
	argument for random to integer.

	* plug-ins/tiny-fu/tiny-fu.c
	* plug-ins/tiny-fu/tiny-fu-console.c
	* plug-ins/tiny-fu/tiny-fu-console.h
	* plug-ins/tiny-fu/ts-wrapper.c
	* plug-ins/tiny-fu/ts-wrapper.h
	* plug-ins/tiny-fu/tinyscheme/scheme.c: Removed pipe in console mode.

2004-08-02   Kevin Cozens  <kcozens@cvs.gimp.org>

	* Updated the public tarball.

	Run-time loading of extensions has been disabled. The two TinyScheme
	extensions are now directly linked in to Tiny-Fu:

	* plug-ins/tiny-fu/ts-wrapper.c: Added calls to initialize the
	TinyScheme extensions.

	* plug-ins/tiny-fu/Makefile.am: Added re and ftx to SUBDIRS line.

	* plug-ins/tiny-fu/re/Makefile.am
	* plug-ins/tiny-fu/ftx/Makefile.am: Now build as standard libraries.

	* plug-ins/tiny-fu/tinyscheme/Makefile.am: Removed SUBDIRS line and
	turned off dynamic loading of extensions.

	* plug-ins/tiny-fu/re/
	* plug-ins/tiny-fu/ftx/: Moved out of the tinyscheme directory.
	Renamed tsx to ftx since it deviates from the original tsx extension.

	* plug-ins/tiny-fu/script-fu-compat.init: The extensions are linked in
	and no longer need to be loaded.

2004-08-01   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/tinyscheme/scheme.c: Changed definition for 'fmod'
	to force arguments to integer.

	* plug-ins/tiny-fu/Makefile.am: Changed the dependency order so that
	$(REGEXREPL) is linked earlier. Per the change made to Script-Fu.

2004-07-31   Kevin Cozens  <kcozens@cvs.gimp.org>

	* Updated the public tarball.

	* plug-ins/tiny-fu/scripts/carved-logo.sct
	* plug-ins/tiny-fu/scripts/crystal-logo.sct
	* plug-ins/tiny-fu/scripts/sota-chrome-logo.sct: Changed DIR_SEPARATOR
	to DIR-SEPARATOR.

	* plug-ins/tiny-fu/script-fu-compat.init: Removed define for 'fread'
	since 'read' is not a direct equivalent.

2004-07-30   Kevin Cozens  <kcozens@cvs.gimp.org>

	* Fourth public tarball released.

	* plug-ins/tiny-fu/tinyscheme/ts-wrapper.c: Fixed init problem by
	moving defines for DIR-SEPARATOR and 'load-extension'.

2004-07-29   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/tinyscheme/ts-wrapper.c: Constant DIR-SEPARATOR 
	added to aid in portability when building file paths in scripts.
	Removed duplicate define for 'load-extension'.

	* plug-ins/tiny-fu/scripts/contactsheet.sct: Updated to use new
	DIR-SEPARATOR constant.

	* plug-ins/tiny-fu/tinyscheme/re/Makefile.am
	* plug-ins/tiny-fu/tinyscheme/tsx/Makefile.am: Added flags to stop
	versioning of the .so files. Mostly helps when building for Windows.

2004-07-28   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/ts-wrapper.c: Changed marshall_proc_db_call() to
	return a list containing either TRUE or FALSE for PDB calls which
	return no values to indicate whether the PDB call succeeded or not.

	* plug-ins/tiny-fu/tiny-fu-enums.h
	* plug-ins/tiny-fu/tiny-fu-scripts.c
	* plug-ins/tiny-fu/ts-wrapper.c: Applied Script-Fu patches made
	by Michael Natterer which added SF_PALETTE so it can be used in scripts.

	* plug-ins/script-fu/scripts/test-sphere.sct: Added palette parameter
	to the test script based on change to Script-Fu version made by Michael
	Natterer.

2004-07-27   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/tiny-fu-scripts.c: In tiny_fu_free_scripts(),
	script->arg_types was being freed too soon. (Inherited from Script-Fu)

	* plug-ins/tiny-fu/ts-wrapper.c: Fixed error in allocation of memory
	used to hold argument data for PDB_*ARRAY types.

	* plug-ins/tiny-fu/scripts/contactsheet.sct: Added first version.

2004-07-25   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/script-fu-compat.init: Fixed definition for
	cons-array.

2004-07-22   Kevin Cozens  <kcozens@cvs.gimp.org>

	* Third public tarball released.

	* plug-ins/tiny-fu/tinyscheme/re/Makefile.am
	* plug-ins/tiny-fu/tinyscheme/tsx/Makefile.am: Fixed build problem
	under Windows with information from schumaml on #gimp.

	* plug-ins/tiny-fu/tinyscheme/tsx/tsx.c: Stripped out socket and misc
	routines. Added 'dir-rewind' and 'file-type'. Modified to use routines
	from glib to aid in portability.

2004-07-20   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/tinyscheme/tsx/tsx.c: Added #if to prevent include
	of socket related header files when socket routines will not be used.
	Pointed out by schumaml on #gimp.

	* plug-ins/tiny-fu/tinyscheme/Makefile.am 
	* plug-ins/tiny-fu/tinyscheme/re/*: Hooked re extension in to a build
	and install of the Tiny-Fu plugin.

2004-07-16   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/ts-wrapper.c: Added support for PARASITES.

2004-07-14   Kevin Cozens  <kcozens@cvs.gimp.org>

	* Second public tarball released.

	* plug-ins/script-fu/scripts/round-corners.sct: Changed from using
	undo disable/enable to using an undo group if the script doesn't
	work on a copy. Based on change from Dave Neary originally made to
	Script-Fu version.

	* plug-ins/tiny-fu/tiny-fu-console.c: Removed display of GPL text.

	* gimp.patch
	* plug-ins/tiny-fu/tinyscheme/Makefile.am 
	* plug-ins/tiny-fu/tinyscheme/tsx/Makefile.am: Hooked tsx extension
	in to a build and install of the Tiny-Fu plugin.

2004-07-13   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/ts-wrapper.c: Added FFI hook for "load-extension".

	* plug-ins/tiny-fu/script-fu-compat.init: Load tsx extension and
	added compatibility define for SIOD 'realtime' function.

2004-07-12   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/script-fu-compat.init: Added random number
	generator routines.

2004-07-10   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/ts-wrapper.c
	* plug-ins/tiny-fu/scripts/Makefile.am
	* plug-ins/tiny-fu/scripts/tiny-fu.init
	* plug-ins/tiny-fu/script-fu-compat.init: Added some backwards
	compatibility routines for scripts written for the SIOD interpreter.

2004-07-09   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/scripts/tiny-fu.init
	* plug-ins/tiny-fu/scripts/tinyscheme/init.sct: Fixed define of lcm.

2004-07-08   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/ts-wrapper.c: Modified to use vectors for all
	PDB *ARRAY types.

2004-07-05   Kevin Cozens  <kcozens@cvs.gimp.org>

	* First public release of a tarball for Tiny-Fu

	* plug-ins/tiny-fu/scripts/blend-anim.sct
	* plug-ins/tiny-fu/scripts/glossy.sct
	* plug-ins/tiny-fu/scripts/test-sphere.sct: Fixed typos originally
	discovered by Roman Joost in Script-Fu.

2004-07-01   Kevin Cozens  <kcozens@cvs.gimp.org>

	* gimp/tools/pdbgen/enumcode.pl: Modified to generate the
	gimp-constants.h file needed by Tiny-Fu.

2004-06-28   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/ts-wrapper.c
	* plug-ins/tiny-fu/tinyscheme/scheme.c: Partial improvement in
	display of error messages when parsing/running scripts.

2004-06-27   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/tinyscheme/BUILDING
	* plug-ins/tiny-fu/tinyscheme/CHANGES
	* plug-ins/tiny-fu/tinyscheme/Manual.txt
	* plug-ins/tiny-fu/tinyscheme/dynload.c
	* plug-ins/tiny-fu/tinyscheme/init.sct
	* plug-ins/tiny-fu/tinyscheme/scheme.c
	* plug-ins/tiny-fu/tinyscheme/scheme.h
	* plug-ins/tiny-fu/tinyscheme/scheme-private.h
	* plug-ins/tiny-fu/scripts/tiny-fu.init: Updated to version 1.35
	of TinyScheme.

2004-06-26   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/scripts/*: Updated with a fresh copy of the
	Script-Fu scripts recently HIG-ified by Bill Skaggs.

2004-06-24   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/gimp-constants.c: Updated to match recent
	changes in Script-Fu constants.

	* plug-ins/tiny-fu/tiny-fu-console.c
	* plug-ins/tiny-fu/tiny-fu-scripts.c
	* plug-ins/tiny-fu/tiny-fu-server.c: HIG-ified based on changes
	made by Sven Neumann to the similar files in Script-Fu.

2004-04-08   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/tiny-fu/ts-wrapper.c: Fixed PDB marshaller to handle
	NULL strings.

2004-04-06   Kevin Cozens  <kcozens@cvs.gimp.org>

	* plug-ins/script-fu/scripts/ts-helloworld.sct: First successful run
	of a script using TinyScheme as the Scheme interpreter.
